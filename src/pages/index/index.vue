<template>
  <view class="container">
    <!-- é¡¶éƒ¨ä¸ªäººä¿¡æ¯æ  -->
    <view class="header">
      <view class="user-avatar">
        <text class="iconfont icon-user"></text>
      </view>
      <text class="greeting">ä½ å¥½ï¼Œç”¨æˆ·ï¼</text>
      <view class="icons">
        <text class="iconfont icon-notification"></text>
        <text class="iconfont icon-settings"></text>
      </view>
    </view>

    <!-- å¥åº·æ—…ç¨‹å¡ç‰‡ -->
    <view class="health-journey-card">
      <text class="card-title">ä½ çš„å¥åº·æ—…ç¨‹</text>
      
      <view class="stats-container">
        <view class="stat-item">
          <text class="stat-value">87%</text>
          <text class="stat-label">å®Œæˆåº¦</text>
        </view>
        
        <view class="stat-item">
          <text class="stat-value">24</text>
          <text class="stat-label">è¿ç»­å¤©æ•°</text>
        </view>
        
        <view class="stat-item">
          <text class="stat-value">12</text>
          <text class="stat-label">ç›®æ ‡æ•°</text>
        </view>
      </view>
      
      <view class="progress-bar">
        <view class="progress-fill" style="width: 87%;"></view>
      </view>
    </view>

    <!-- åˆ†ç±»å¯¼èˆª -->
    <view class="tab-navigation">
      <view class="tab-item" :class="{ active: activeTab === 'exercise' }" @click="switchTab('exercise')">
        <text>è¿åŠ¨</text>
      </view>
      <view class="tab-item" :class="{ active: activeTab === 'diet' }" @click="switchTab('diet')">
        <text>é¥®é£Ÿ</text>
      </view>
      <view class="tab-item" :class="{ active: activeTab === 'wellness' }" @click="switchTab('wellness')">
        <text>å¥åº·</text>
      </view>
    </view>

    <!-- è¿åŠ¨éƒ¨åˆ† -->
    <block v-if="activeTab === 'exercise'">
      <!-- ä»Šæ—¥é”»ç‚¼ -->
      <view class="section-title">
        <text class="iconfont icon-run"></text>
        <text>ä»Šæ—¥é”»ç‚¼</text>
      </view>

      <!-- å¡è·¯é‡Œå’Œå¿ƒç‡å¡ç‰‡ -->
      <view class="stats-row">
        <view class="stats-card calories">
          <text class="stats-icon">ğŸ”¥</text>
          <view class="stats-content">
            <text class="stats-label">å¡è·¯é‡Œ</text>
            <view class="stats-value-container">
              <text class="stats-value">450</text>
              <text class="stats-unit">/ 600 åƒå¡</text>
            </view>
          </view>
        </view>
        
        <view class="stats-card heart-rate">
          <text class="stats-icon">â¤ï¸</text>
          <view class="stats-content">
            <text class="stats-label">å¿ƒç‡</text>
            <view class="stats-value-container">
              <text class="stats-value">112</text>
              <text class="stats-unit">æ¬¡/åˆ†</text>
            </view>
          </view>
        </view>
      </view>

      <!-- è¿åŠ¨ç›®æ ‡éƒ¨åˆ† -->
      <view class="section-title">
        <text>ä½ çš„è¿åŠ¨ç›®æ ‡</text>
      </view>

      <!-- æ­¥æ•°ç›®æ ‡ -->
      <view class="goal-card steps">
        <view class="goal-icon">ğŸš¶</view>
        <view class="goal-details">
          <view class="goal-main">
            <text class="goal-title">10,000 æ­¥</text>
            <text class="goal-subtitle">æ¯æ—¥æ­¥è¡Œç›®æ ‡</text>
          </view>
          <text class="goal-progress">ä»Šæ—¥å·²èµ° 7,500 æ­¥</text>
        </view>
        <view class="goal-actions">
          <view class="goal-progress-circle" style="--percent: 75%;">
            <text>75%</text>
          </view>
          <button class="log-button">è®°å½•æ´»åŠ¨</button>
        </view>
      </view>

      <!-- åŠ›é‡è®­ç»ƒ -->
      <view class="goal-card strength">
        <view class="goal-icon">ğŸ’ª</view>
        <view class="goal-details">
          <view class="goal-main">
            <text class="goal-title">åŠ›é‡è®­ç»ƒ</text>
            <text class="goal-subtitle">æ¯å‘¨ 3 æ¬¡</text>
          </view>
          <text class="goal-progress">æœ¬å‘¨å·²å®Œæˆ 2 æ¬¡</text>
        </view>
        <view class="goal-actions">
          <view class="goal-progress-count">
            <text>2/3</text>
          </view>
          <button class="complete-button">å®Œæˆ</button>
        </view>
      </view>

      <!-- æ¸¸æ³³ -->
      <view class="goal-card swimming">
        <view class="goal-icon">ğŸŠ</view>
        <view class="goal-details">
          <view class="goal-main">
            <text class="goal-title">æ¸¸æ³³</text>
            <text class="goal-subtitle">æ¯å‘¨ 2 æ¬¡ï¼Œæ¯æ¬¡ 30 åˆ†é’Ÿ</text>
          </view>
          <text class="goal-progress">æœ¬å‘¨å·²å®Œæˆ 1 æ¬¡</text>
        </view>
        <view class="goal-actions">
          <view class="goal-progress-count">
            <text>1/2</text>
          </view>
          <button class="log-button">è®°å½•æ¸¸æ³³</button>
        </view>
      </view>

      <!-- æ·»åŠ è¿åŠ¨ç›®æ ‡æŒ‰é’® -->
      <button class="add-goal-button">
        <text class="plus-icon">+</text>
        <text>æ·»åŠ è¿åŠ¨ç›®æ ‡</text>
      </button>
    </block>

    <!-- é¥®é£Ÿéƒ¨åˆ† -->
    <block v-if="activeTab === 'diet'">
      <!-- ä»Šæ—¥è¥å…» -->
      <view class="section-title">
        <text class="iconfont icon-food"></text>
        <text>ä»Šæ—¥è¥å…»</text>
      </view>

      <!-- è¥å…»æ‘„å…¥å¡ç‰‡ -->
      <view class="nutrition-stats-row">
        <view class="nutrition-card">
          <text class="nutrition-label">å¡è·¯é‡Œ</text>
          <view class="nutrition-value-container">
            <text class="nutrition-value">1,450</text>
            <text class="nutrition-target">/ 2,000</text>
          </view>
          <view class="nutrition-progress-bar calories">
            <view class="nutrition-progress-fill" style="width: 72%;"></view>
          </view>
        </view>
        
        <view class="nutrition-card">
          <text class="nutrition-label">è›‹ç™½è´¨</text>
          <view class="nutrition-value-container">
            <text class="nutrition-value">85g</text>
            <text class="nutrition-target">/ 120g</text>
          </view>
          <view class="nutrition-progress-bar protein">
            <view class="nutrition-progress-fill" style="width: 70%;"></view>
          </view>
        </view>
        
        <view class="nutrition-card">
          <text class="nutrition-label">æ°´åˆ†</text>
          <view class="nutrition-value-container">
            <text class="nutrition-value">1.8L</text>
            <text class="nutrition-target">/ 2.5L</text>
          </view>
          <view class="nutrition-progress-bar water">
            <view class="nutrition-progress-fill" style="width: 72%;"></view>
          </view>
        </view>
      </view>

      <!-- è¥å…»ç›®æ ‡éƒ¨åˆ† -->
      <view class="section-title">
        <text>ä½ çš„è¥å…»ç›®æ ‡</text>
      </view>

      <!-- è”¬èœæ‘„å…¥ -->
      <view class="goal-card veggies">
        <view class="goal-icon">ğŸ¥¦</view>
        <view class="goal-details">
          <view class="goal-main">
            <text class="goal-title">5 ä»½è”¬èœ</text>
            <text class="goal-subtitle">æ¯æ—¥æ‘„å…¥</text>
          </view>
          <text class="goal-progress">ä»Šæ—¥è¿˜éœ€ 2 ä»½</text>
        </view>
        <view class="goal-actions">
          <view class="veg-count-container">
            <view class="veg-count-circle active">3</view>
            <view class="veg-count-circle active">2</view>
            <view class="veg-count-circle">0</view>
          </view>
          <button class="log-button">è®°å½•é¥®é£Ÿ</button>
        </view>
      </view>

      <!-- æ— åŠ å·¥ç³– -->
      <view class="goal-card no-sugar">
        <view class="goal-icon">âŒ</view>
        <view class="goal-details">
          <view class="goal-main">
            <text class="goal-title">æ— åŠ å·¥ç³–</text>
            <text class="goal-subtitle">æ¯æ—¥æŒ‘æˆ˜</text>
          </view>
          <text class="goal-progress">ä»Šæ—¥å·²å®Œæˆ</text>
        </view>
        <view class="goal-actions">
          <view class="check-circle">
            <text class="iconfont icon-check"></text>
          </view>
          <button class="reset-button">é‡ç½®</button>
        </view>
      </view>

      <!-- æ°´åˆ†æ‘„å…¥ -->
      <view class="goal-card water">
        <view class="goal-icon">ğŸ’§</view>
        <view class="goal-details">
          <view class="goal-main">
            <text class="goal-title">2.5L æ°´</text>
            <text class="goal-subtitle">æ¯æ—¥æ°´åˆ†</text>
          </view>
          <text class="goal-progress">ä»Šæ—¥å·²å– 1.8L</text>
        </view>
        <view class="goal-actions">
          <view class="goal-progress-circle" style="--percent: 72%;">
            <text>72%</text>
          </view>
          <button class="add-button">+250ml</button>
        </view>
      </view>

      <!-- æ·»åŠ è¥å…»ç›®æ ‡æŒ‰é’® -->
      <button class="add-goal-button add-nutrition">
        <text class="plus-icon">+</text>
        <text>æ·»åŠ è¥å…»ç›®æ ‡</text>
      </button>
    </block>

    <!-- å¥åº·éƒ¨åˆ† -->
    <block v-if="activeTab === 'wellness'">
      <!-- å¥åº·æ£€æŸ¥ -->
      <view class="section-title">
        <text class="iconfont icon-heart"></text>
        <text>å¿ƒç†å¥åº·æ£€æŸ¥</text>
      </view>

      <!-- æƒ…ç»ªé—®è¯¢ -->
      <view class="mood-question">
        <text>ä»Šå¤©æ„Ÿè§‰å¦‚ä½•ï¼Ÿ</text>
      </view>

      <!-- æƒ…ç»ªé€‰æ‹© -->
      <view class="mood-options">
        <view class="mood-option">
          <view class="mood-emoji stressed">
            <text>ğŸ˜£</text>
          </view>
          <text class="mood-label">å‹åŠ›å¤§</text>
        </view>
        
        <view class="mood-option">
          <view class="mood-emoji neutral">
            <text>ğŸ˜</text>
          </view>
          <text class="mood-label">ä¸€èˆ¬</text>
        </view>
        
        <view class="mood-option">
          <view class="mood-emoji good">
            <text>ğŸ˜Š</text>
          </view>
          <text class="mood-label">ä¸é”™</text>
        </view>
        
        <view class="mood-option">
          <view class="mood-emoji great">
            <text>ğŸ˜„</text>
          </view>
          <text class="mood-label">å¾ˆå¥½</text>
        </view>
      </view>

      <!-- å¥åº·ç›®æ ‡éƒ¨åˆ† -->
      <view class="section-title">
        <text>ä½ çš„å¥åº·ç›®æ ‡</text>
      </view>

      <!-- ç¡çœ ç›®æ ‡ -->
      <view class="goal-card sleep">
        <view class="goal-icon">ğŸŒ™</view>
        <view class="goal-details">
          <view class="goal-main">
            <text class="goal-title">8 å°æ—¶ç¡çœ </text>
            <text class="goal-subtitle">æ¯æ™šä¼‘æ¯</text>
          </view>
          <text class="goal-progress">å·²å®Œæˆç›®æ ‡çš„ 75%</text>
        </view>
        <view class="goal-actions">
          <view class="goal-progress-circle" style="--percent: 75%; --color: #9370db;">
            <text>7.5h</text>
          </view>
          <button class="log-button sleep-log">è®°å½•ç¡çœ </button>
        </view>
      </view>

      <!-- å†¥æƒ³ -->
      <view class="goal-card meditation">
        <view class="goal-icon">ğŸ§˜</view>
        <view class="goal-details">
          <view class="goal-main">
            <text class="goal-title">10 åˆ†é’Ÿå†¥æƒ³</text>
            <text class="goal-subtitle">æ¯æ—¥ä¸“æ³¨</text>
          </view>
          <text class="goal-progress">ä»Šæ—¥å·²å®Œæˆ</text>
        </view>
        <view class="goal-actions">
          <view class="goal-complete-circle">
            <text class="iconfont icon-check"></text>
          </view>
          <button class="meditation-button">å†¥æƒ³</button>
        </view>
      </view>

      <!-- é˜…è¯» -->
      <view class="goal-card reading">
        <view class="goal-icon">ğŸ“š</view>
        <view class="goal-details">
          <view class="goal-main">
            <text class="goal-title">é˜…è¯» 30 åˆ†é’Ÿ</text>
            <text class="goal-subtitle">æ¯æ—¥é˜…è¯»</text>
          </view>
          <text class="goal-progress">å·²å®Œæˆ 50%</text>
        </view>
        <view class="goal-actions">
          <view class="goal-progress-circle" style="--percent: 50%; --color: #32cd32;">
            <text>15m</text>
          </view>
          <button class="log-button reading-log">è®°å½•é˜…è¯»</button>
        </view>
      </view>

      <!-- æ·»åŠ å¥åº·ç›®æ ‡æŒ‰é’® -->
      <button class="add-goal-button add-wellness">
        <text class="plus-icon">+</text>
        <text>æ·»åŠ å¥åº·ç›®æ ‡</text>
      </button>
    </block>
  </view>
</template>

<script setup>
import { ref } from 'vue';

// æ´»åŠ¨æ ‡ç­¾çŠ¶æ€
const activeTab = ref('wellness');

// åˆ‡æ¢æ ‡ç­¾æ–¹æ³•
const switchTab = (tab) => {
  activeTab.value = tab;
};
</script>

<style>
.container {
  padding: 30rpx;
  background-color: #f5f5f7;
  min-height: 100vh;
}

/* é¡¶éƒ¨ä¸ªäººä¿¡æ¯æ  */
.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 30rpx;
}

.user-avatar {
  width: 80rpx;
  height: 80rpx;
  background-color: #e0e0e5;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
}

.greeting {
  font-size: 32rpx;
  font-weight: bold;
}

.icons {
  display: flex;
  gap: 20rpx;
}

/* å¥åº·æ—…ç¨‹å¡ç‰‡ */
.health-journey-card {
  background-color: #6654e0;
  border-radius: 30rpx;
  padding: 40rpx;
  color: white;
  margin-bottom: 30rpx;
}

.card-title {
  font-size: 36rpx;
  font-weight: bold;
  margin-bottom: 30rpx;
}

.stats-container {
  display: flex;
  justify-content: space-between;
  margin-bottom: 30rpx;
}

.stat-item {
  display: flex;
  flex-direction: column;
}

.stat-value {
  font-size: 48rpx;
  font-weight: bold;
}

.stat-label {
  font-size: 24rpx;
  opacity: 0.8;
}

.progress-bar {
  height: 10rpx;
  background-color: rgba(255, 255, 255, 0.3);
  border-radius: 10rpx;
}

.progress-fill {
  height: 100%;
  background-color: white;
  border-radius: 10rpx;
}

/* åˆ†ç±»å¯¼èˆª */
.tab-navigation {
  display: flex;
  justify-content: space-around;
  margin-bottom: 30rpx;
  border-bottom: 2rpx solid #e0e0e5;
}

.tab-item {
  padding: 20rpx 10rpx;
  font-size: 28rpx;
  position: relative;
}

.tab-item.active {
  color: #6654e0;
  font-weight: bold;
}

.tab-item.active::after {
  content: '';
  position: absolute;
  bottom: -2rpx;
  left: 0;
  width: 100%;
  height: 4rpx;
  background-color: #6654e0;
  border-radius: 4rpx;
}

/* ä»Šæ—¥é”»ç‚¼éƒ¨åˆ† */
.section-title {
  display: flex;
  align-items: center;
  gap: 10rpx;
  margin: 30rpx 0 20rpx;
  font-size: 32rpx;
  font-weight: bold;
}

/* å¡è·¯é‡Œå’Œå¿ƒç‡å¡ç‰‡ */
.stats-row {
  display: flex;
  gap: 20rpx;
  margin-bottom: 30rpx;
}

.stats-card {
  flex: 1;
  background-color: white;
  border-radius: 20rpx;
  padding: 20rpx;
  display: flex;
  align-items: center;
  gap: 20rpx;
}

.stats-icon {
  font-size: 48rpx;
}

.stats-content {
  display: flex;
  flex-direction: column;
}

.stats-label {
  font-size: 24rpx;
  color: #8f8f94;
}

.stats-value-container {
  display: flex;
  align-items: baseline;
}

.stats-value {
  font-size: 32rpx;
  font-weight: bold;
}

.stats-unit {
  font-size: 24rpx;
  color: #8f8f94;
  margin-left: 4rpx;
}

/* è¿åŠ¨ç›®æ ‡å¡ç‰‡ */
.goal-card {
  background-color: white;
  border-radius: 20rpx;
  padding: 30rpx;
  margin-bottom: 20rpx;
  display: flex;
  align-items: center;
}

.goal-icon {
  font-size: 48rpx;
  margin-right: 20rpx;
}

.goal-details {
  flex: 1;
}

.goal-main {
  margin-bottom: 10rpx;
}

.goal-title {
  font-size: 32rpx;
  font-weight: bold;
}

.goal-subtitle {
  font-size: 24rpx;
  color: #8f8f94;
}

.goal-progress {
  font-size: 24rpx;
  color: #8f8f94;
}

.goal-actions {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10rpx;
}

.goal-progress-circle {
  width: 80rpx;
  height: 80rpx;
  border-radius: 50%;
  background: conic-gradient(var(--color, #6654e0) 0% var(--percent), #e0e0e5 var(--percent) 100%);
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 24rpx;
  font-weight: bold;
  color: var(--color, #6654e0);
  position: relative;
}

.goal-progress-circle::before {
  content: '';
  position: absolute;
  width: 60rpx;
  height: 60rpx;
  border-radius: 50%;
  background-color: white;
}

.goal-progress-circle text {
  position: relative;
  z-index: 1;
}

.goal-progress-count {
  width: 60rpx;
  height: 60rpx;
  border-radius: 50%;
  background-color: #e7e4f9;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 24rpx;
  font-weight: bold;
  color: #6654e0;
}

.log-button, .complete-button, .reset-button, .add-button, .meditation-button {
  background-color: #f0f0f2;
  color: #6654e0;
  font-size: 24rpx;
  border-radius: 30rpx;
  padding: 6rpx 20rpx;
  border: none;
}

.complete-button {
  background-color: #e7e4f9;
}

.reset-button {
  background-color: #ffefef;
  color: #ff6b6b;
}

.add-button {
  background-color: #e7f3ff;
  color: #4a91ff;
}

.sleep-log {
  background-color: #f2e6ff;
  color: #9370db;
}

.meditation-button {
  background-color: #e6f0ff;
  color: #4a91ff;
}

.reading-log {
  background-color: #e6ffe6;
  color: #32cd32;
}

/* æ·»åŠ ç›®æ ‡æŒ‰é’® */
.add-goal-button {
  background-color: #f0f0f2;
  border: none;
  border-radius: 20rpx;
  padding: 30rpx;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 10rpx;
  width: 100%;
  margin: 30rpx 0;
  color: #6654e0;
  font-weight: bold;
}

.add-nutrition {
  background-color: #fff5e6;
  color: #ffa500;
}

.add-wellness {
  background-color: #ffe6f0;
  color: #ff69b4;
}

.plus-icon {
  font-size: 32rpx;
  font-weight: bold;
}

/* è¥å…»éƒ¨åˆ† */
.nutrition-stats-row {
  display: flex;
  justify-content: space-between;
  margin-bottom: 30rpx;
}

.nutrition-card {
  flex: 1;
  background-color: white;
  border-radius: 20rpx;
  padding: 20rpx;
  margin: 0 5rpx;
}

.nutrition-label {
  font-size: 24rpx;
  color: #8f8f94;
  margin-bottom: 10rpx;
}

.nutrition-value-container {
  display: flex;
  align-items: baseline;
  margin-bottom: 10rpx;
}

.nutrition-value {
  font-size: 32rpx;
  font-weight: bold;
}

.nutrition-target {
  font-size: 24rpx;
  color: #8f8f94;
  margin-left: 4rpx;
}

.nutrition-progress-bar {
  height: 6rpx;
  border-radius: 6rpx;
  background-color: #f0f0f2;
}

.nutrition-progress-fill {
  height: 100%;
  border-radius: 6rpx;
}

.nutrition-progress-bar.calories .nutrition-progress-fill {
  background-color: #ffa500;
}

.nutrition-progress-bar.protein .nutrition-progress-fill {
  background-color: #4cd964;
}

.nutrition-progress-bar.water .nutrition-progress-fill {
  background-color: #4a91ff;
}

/* è”¬èœè®¡æ•° */
.veg-count-container {
  display: flex;
  gap: 5rpx;
}

.veg-count-circle {
  width: 40rpx;
  height: 40rpx;
  border-radius: 50%;
  background-color: #f0f0f2;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 20rpx;
  color: #8f8f94;
}

.veg-count-circle.active {
  background-color: #4cd964;
  color: white;
}

/* æ£€æŸ¥æ ‡è®° */
.check-circle {
  width: 60rpx;
  height: 60rpx;
  border-radius: 50%;
  background-color: #ffefef;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 32rpx;
  color: #ff6b6b;
}

.goal-complete-circle {
  width: 60rpx;
  height: 60rpx;
  border-radius: 50%;
  background-color: #e6f0ff;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 32rpx;
  color: #4a91ff;
}

.icon-check:before {
  content: "\e70c";
}

.icon-food:before {
  content: "\e7ee";
}

.icon-heart:before {
  content: "\e7df";
}

/* æƒ…ç»ªé—®è¯¢ */
.mood-question {
  font-size: 32rpx;
  font-weight: bold;
  margin-bottom: 20rpx;
}

/* æƒ…ç»ªé€‰æ‹© */
.mood-options {
  display: flex;
  justify-content: space-between;
  margin-bottom: 30rpx;
}

.mood-option {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10rpx;
}

.mood-emoji {
  width: 80rpx;
  height: 80rpx;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 40rpx;
}

.mood-emoji.stressed {
  background-color: #ffefef;
}

.mood-emoji.neutral {
  background-color: #fff9e6;
}

.mood-emoji.good {
  background-color: #e6ffe6;
}

.mood-emoji.great {
  background-color: #e6f0ff;
}

.mood-label {
  font-size: 24rpx;
  color: #666;
}

/* ç©ºçŠ¶æ€ */
.empty-state {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 300rpx;
  background-color: white;
  border-radius: 20rpx;
  margin: 30rpx 0;
  color: #8f8f94;
}
</style>
